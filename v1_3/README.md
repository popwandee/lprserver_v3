# AI Camera v1.3

‡∏£‡∏∞‡∏ö‡∏ö‡∏Å‡∏•‡πâ‡∏≠‡∏á AI ‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö‡∏Å‡∏≤‡∏£‡∏ï‡∏£‡∏ß‡∏à‡∏à‡∏±‡∏ö‡πÅ‡∏•‡∏∞‡∏õ‡∏£‡∏∞‡∏°‡∏ß‡∏•‡∏ú‡∏•‡∏†‡∏≤‡∏û‡πÅ‡∏ö‡∏ö‡πÄ‡∏£‡∏µ‡∏¢‡∏•‡πÑ‡∏ó‡∏°‡πå ‡∏ö‡∏ô Raspberry Pi ‡∏î‡πâ‡∏ß‡∏¢ Hailo AI Accelerator

## üìã ‡∏™‡∏≤‡∏£‡∏ö‡∏±‡∏ç

- [‡∏†‡∏≤‡∏û‡∏£‡∏ß‡∏°‡∏£‡∏∞‡∏ö‡∏ö](#‡∏†‡∏≤‡∏û‡∏£‡∏ß‡∏°‡∏£‡∏∞‡∏ö‡∏ö)
- [‡∏™‡∏ñ‡∏≤‡∏õ‡∏±‡∏ï‡∏¢‡∏Å‡∏£‡∏£‡∏°](#‡∏™‡∏ñ‡∏≤‡∏õ‡∏±‡∏ï‡∏¢‡∏Å‡∏£‡∏£‡∏°)
- [‡∏Å‡∏≤‡∏£‡∏ï‡∏¥‡∏î‡∏ï‡∏±‡πâ‡∏á](#‡∏Å‡∏≤‡∏£‡∏ï‡∏¥‡∏î‡∏ï‡∏±‡πâ‡∏á)
- [‡∏Å‡∏≤‡∏£‡πÉ‡∏ä‡πâ‡∏á‡∏≤‡∏ô](#‡∏Å‡∏≤‡∏£‡πÉ‡∏ä‡πâ‡∏á‡∏≤‡∏ô)
- [‡∏Å‡∏≤‡∏£‡∏ï‡∏±‡πâ‡∏á‡∏Ñ‡πà‡∏≤](#‡∏Å‡∏≤‡∏£‡∏ï‡∏±‡πâ‡∏á‡∏Ñ‡πà‡∏≤)
- [‡∏Å‡∏≤‡∏£‡πÅ‡∏Å‡πâ‡πÑ‡∏Ç‡∏õ‡∏±‡∏ç‡∏´‡∏≤](#‡∏Å‡∏≤‡∏£‡πÅ‡∏Å‡πâ‡πÑ‡∏Ç‡∏õ‡∏±‡∏ç‡∏´‡∏≤)
- [‡∏Å‡∏≤‡∏£‡∏û‡∏±‡∏í‡∏ô‡∏≤](#‡∏Å‡∏≤‡∏£‡∏û‡∏±‡∏í‡∏ô‡∏≤)
- [API Reference](#api-reference)

## üéØ ‡∏†‡∏≤‡∏û‡∏£‡∏ß‡∏°‡∏£‡∏∞‡∏ö‡∏ö

AI Camera v1.3 ‡πÄ‡∏õ‡πá‡∏ô‡∏£‡∏∞‡∏ö‡∏ö‡∏Å‡∏•‡πâ‡∏≠‡∏á‡∏≠‡∏±‡∏à‡∏â‡∏£‡∏¥‡∏¢‡∏∞‡∏ó‡∏µ‡πà‡∏û‡∏±‡∏í‡∏ô‡∏≤‡∏ö‡∏ô Flask framework ‡πÉ‡∏ä‡πâ‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö:
- ‡∏Å‡∏≤‡∏£‡∏ï‡∏£‡∏ß‡∏à‡∏à‡∏±‡∏ö‡∏ß‡∏±‡∏ï‡∏ñ‡∏∏‡πÅ‡∏ö‡∏ö‡πÄ‡∏£‡∏µ‡∏¢‡∏•‡πÑ‡∏ó‡∏°‡πå
- ‡∏Å‡∏≤‡∏£‡∏õ‡∏£‡∏∞‡∏°‡∏ß‡∏•‡∏ú‡∏•‡∏†‡∏≤‡∏û‡∏î‡πâ‡∏ß‡∏¢ AI
- ‡∏Å‡∏≤‡∏£‡∏à‡∏±‡∏î‡∏Å‡∏≤‡∏£‡∏ê‡∏≤‡∏ô‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•
- ‡∏Å‡∏≤‡∏£‡πÅ‡∏™‡∏î‡∏á‡∏ú‡∏•‡∏ú‡πà‡∏≤‡∏ô‡πÄ‡∏ß‡πá‡∏ö‡∏≠‡∏¥‡∏ô‡πÄ‡∏ï‡∏≠‡∏£‡πå‡πÄ‡∏ü‡∏™

### ‡∏Ñ‡∏∏‡∏ì‡∏™‡∏°‡∏ö‡∏±‡∏ï‡∏¥‡∏´‡∏•‡∏±‡∏Å
- ‚úÖ ‡∏£‡∏∞‡∏ö‡∏ö‡πÄ‡∏ß‡πá‡∏ö‡∏ó‡∏µ‡πà‡πÄ‡∏™‡∏ñ‡∏µ‡∏¢‡∏£ (Flask + Gunicorn + Nginx)
- ‚úÖ ‡∏Å‡∏≤‡∏£‡∏à‡∏±‡∏î‡∏Å‡∏≤‡∏£ service ‡πÅ‡∏ö‡∏ö systemd
- ‚úÖ Virtual environment management
- ‚úÖ Health monitoring
- ‚úÖ WebSocket support
- ‚úÖ Modular architecture
- ‚úÖ **Absolute Imports System (NEW)**
  - ‚úÖ Consistent import paths across the project
  - ‚úÖ Import validation and error handling
  - ‚úÖ Clear dependency management
  - ‚úÖ Easy refactoring and module relocation
- ‚úÖ **Camera System v1.3 (Updated)**
  - ‚úÖ Picamera2 integration with thread-safe access
  - ‚úÖ Camera Handler component with Singleton pattern
  - ‚úÖ Camera Manager service for video streaming
  - ‚úÖ ML pipeline preparation and frame callbacks
  - ‚úÖ Resource cleanup and proper shutdown handling
  - ‚úÖ Status monitoring and health checks
  - ‚úÖ Dependency injection compatible architecture

## üèóÔ∏è ‡∏™‡∏ñ‡∏≤‡∏õ‡∏±‡∏ï‡∏¢‡∏Å‡∏£‡∏£‡∏°

```
‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê    ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê    ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
‚îÇ   Nginx (80)    ‚îÇ‚îÄ‚îÄ‚îÄ‚ñ∂‚îÇ  Gunicorn WSGI  ‚îÇ‚îÄ‚îÄ‚îÄ‚ñ∂‚îÇ  Flask App      ‚îÇ
‚îÇ   Reverse Proxy ‚îÇ    ‚îÇ   Unix Socket   ‚îÇ    ‚îÇ   v1_3.src.app  ‚îÇ
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò    ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò    ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
                                ‚îÇ
                                ‚ñº
                       ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
                       ‚îÇ  Systemd Service‚îÇ
                       ‚îÇ aicamera_v1.3   ‚îÇ
                       ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
```

### üé• Camera System v1.3 Architecture

```
‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê    ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê    ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
‚îÇ   Flask Web UI  ‚îÇ‚îÄ‚îÄ‚ñ∂‚îÇ  Camera Manager ‚îÇ‚îÄ‚îÄ‚îÄ‚ñ∂‚îÇ Camera Handler  ‚îÇ
‚îÇ  (Blueprints)   ‚îÇ    ‚îÇ   (Service)     ‚îÇ    ‚îÇ  (Component)    ‚îÇ
‚îÇ Absulute Imports‚îÇ    ‚îÇAbsulute Imports ‚îÇ    ‚îÇAbsulute Imports ‚îÇ
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò    ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò    ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
        ‚îÇ                       ‚îÇ                       ‚îÇ
        ‚ñº                       ‚ñº                       ‚ñº
‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê    ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê    ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
‚îÇ WebSocket Events‚îÇ    ‚îÇ   ML Pipeline   ‚îÇ    ‚îÇ   Picamera2     ‚îÇ
‚îÇ Video Streaming ‚îÇ    ‚îÇ Frame Callbacks ‚îÇ    ‚îÇ Thread Locking  ‚îÇ
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò    ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò    ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
```

**Design Patterns:**
- **Dependency Injection**: ‡∏£‡∏∞‡∏ö‡∏ö DI Container ‡∏à‡∏±‡∏î‡∏Å‡∏≤‡∏£ dependencies
- **Singleton Pattern**: Camera Handler ‡πÉ‡∏ä‡πâ singleton ‡πÄ‡∏û‡∏∑‡πà‡∏≠‡∏õ‡πâ‡∏≠‡∏á‡∏Å‡∏±‡∏ô‡∏Å‡∏≤‡∏£‡πÉ‡∏ä‡πâ‡∏Å‡∏•‡πâ‡∏≠‡∏á‡∏ã‡πâ‡∏≥‡∏ã‡πâ‡∏≠‡∏ô
- **Flask Blueprints**: ‡πÅ‡∏ö‡πà‡∏á‡∏™‡πà‡∏ß‡∏ô Web UI ‡∏ï‡∏≤‡∏° functional areas
- **Service Layer**: ‡πÅ‡∏¢‡∏Å business logic ‡∏à‡∏≤‡∏Å low-level operations
- **Absolute Imports**: ‡πÉ‡∏ä‡πâ import paths ‡∏ó‡∏µ‡πà‡∏ä‡∏±‡∏î‡πÄ‡∏à‡∏ô‡πÅ‡∏•‡∏∞‡∏™‡∏°‡πà‡∏≥‡πÄ‡∏™‡∏°‡∏≠

### ‡πÇ‡∏Ñ‡∏£‡∏á‡∏™‡∏£‡πâ‡∏≤‡∏á‡πÑ‡∏ü‡∏•‡πå
```
/home/camuser/aicamera/
‚îú‚îÄ‚îÄ v1_3/                          # ‡πÇ‡∏õ‡∏£‡πÄ‡∏à‡∏Ñ‡∏´‡∏•‡∏±‡∏Å
‚îÇ   ‚îú‚îÄ‚îÄ src/                       # Source code
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ app.py                 # Flask application
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ wsgi.py                # WSGI entry point
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ web/                   # Web interface
‚îÇ   ‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ init.py
‚îÇ   ‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ blueprints/ # Flask Blueprints with absolute imports
‚îÇ   ‚îÇ   ‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ init.py # Blueprint registration
‚îÇ   ‚îÇ   ‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ main.py # Main dashboard
‚îÇ   ‚îÇ   ‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ camera.py # Camera control
‚îÇ   ‚îÇ   ‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ detection.py # AI detection
‚îÇ   ‚îÇ   ‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ streaming.py # Video streaming
‚îÇ   ‚îÇ   ‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ health.py # System health
‚îÇ   ‚îÇ   ‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ websocket.py # WebSocket communication
‚îÇ   ‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ templates/         # HTML templates
‚îÇ   ‚îÇ   ‚îÇ   ‚îÇ    ‚îú‚îÄ index.html     # index
‚îÇ   ‚îÇ   ‚îÇ   ‚îÇ    ‚îú‚îÄ camera          # Camera Streaming
‚îÇ   ‚îÇ   ‚îÇ   ‚îÇ    ‚îÇ  ‚îî‚îÄ dashboard.html  # Camera Dashboard Streaming and config
‚îÇ   ‚îÇ   ‚îÇ   ‚îÇ    ‚îú‚îÄ detection          # Detection result UI
‚îÇ   ‚îÇ   ‚îÇ   ‚îÇ    ‚îÇ  ‚îî‚îÄ dashboard.html  # Detection Dashboard
‚îÇ   ‚îÇ   ‚îÇ   ‚îÇ    ‚îú‚îÄ error          # error landing page
‚îÇ   ‚îÇ   ‚îÇ   ‚îÇ    ‚îÇ  ‚îú‚îÄ 404.html    # error 404 File not Found
‚îÇ   ‚îÇ   ‚îÇ   ‚îÇ    ‚îÇ  ‚îî‚îÄ 500.html    # error 500 Bad Gateway
‚îÇ   ‚îÇ   ‚îÇ   ‚îÇ    ‚îú‚îÄ health          # System Health Monitor and logs
‚îÇ   ‚îÇ   ‚îÇ   ‚îÇ    ‚îÇ  ‚îî‚îÄ dashboard.html  # Health status and logs Dashboard
‚îÇ   ‚îÇ   ‚îÇ   ‚îÇ    ‚îî‚îÄ main          # Main Dashboard
‚îÇ   ‚îÇ   ‚îÇ   ‚îÇ        ‚îî‚îÄ dashboard.html  # Main Dashboard
‚îÇ   ‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ static/            # CSS, JS, Images
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ components/            # Low-level components
‚îÇ   ‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ init.py
‚îÇ   ‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ camera_handler.py  # Camera control (Picamera2 + thread-safe)
‚îÇ   ‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ detection_processor.py # AI detection (Hailo models)
‚îÇ   ‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ database_manager.py # Database operations
‚îÇ   ‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ health_monitor.py  # System health monitoring
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ services/              # High-level business logic
‚îÇ   ‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ init.py
‚îÇ   ‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ camera_manager.py  # Camera service (streaming + ML pipeline)
‚îÇ   ‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ detection_manager.py # Detection workflow management
‚îÇ   ‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ video_streaming.py # Video streaming service
‚îÇ   ‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ websocket_sender.py # WebSocket communication
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ core/                  # Core framework
‚îÇ   ‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ init.py
‚îÇ   ‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ dependency_container.py # DI: Dependency injection
‚îÇ   ‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ config.py          # Configuration management
‚îÇ   ‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ‚îÄ utils/             # Core utilities
‚îÇ   ‚îÇ   ‚îÇ       ‚îú‚îÄ‚îÄ init.py
‚îÇ   ‚îÇ   ‚îÇ       ‚îú‚îÄ‚îÄ import_helper.py # NEW: Absolute import management
‚îÇ   ‚îÇ   ‚îÇ       ‚îî‚îÄ‚îÄ logging_config.py # Logging configuration
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ database/              # Database layer
‚îÇ   ‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ database_manager.py
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ captured_images/       # Captured images storage
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ logs/                  # Application logs
‚îÇ   ‚îú‚îÄ‚îÄ scripts/                   # Utility scripts
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ migrate_absolute_imports.py # NEW: Migration script
‚îÇ   ‚îú‚îÄ‚îÄ requirements.txt           # Python dependencies
‚îÇ   ‚îú‚îÄ‚îÄ ARCHITECTURE.md            # Architecture documentation
‚îÇ   ‚îî‚îÄ‚îÄ README.md                  # This file
‚îú‚îÄ‚îÄ gunicorn_config.py             # Gunicorn configuration  (Unix socket)
‚îú‚îÄ‚îÄ systemd_service/               # Systemd service files
‚îÇ   ‚îî‚îÄ‚îÄ aicamera_v1.3.service
‚îú‚îÄ‚îÄ setup_env.sh                   # Environment setup script
‚îî‚îÄ‚îÄ venv_hailo/                    # Virtual environment
```

## üöÄ ‡∏Å‡∏≤‡∏£‡∏ï‡∏¥‡∏î‡∏ï‡∏±‡πâ‡∏á

### ‡∏Ç‡πâ‡∏≠‡∏Å‡∏≥‡∏´‡∏ô‡∏î‡∏£‡∏∞‡∏ö‡∏ö
- Raspberry Pi5 (ARM64)
- Python 3.11+
- Hailo AI Accelerator
- Camera module (PiCamera2)

### ‡∏Ç‡∏±‡πâ‡∏ô‡∏ï‡∏≠‡∏ô‡∏Å‡∏≤‡∏£‡∏ï‡∏¥‡∏î‡∏ï‡∏±‡πâ‡∏á

1. **Clone ‡πÇ‡∏õ‡∏£‡πÄ‡∏à‡∏Ñ**
```bash
cd /home/camuser/aicamera
```

2. **‡∏ï‡∏±‡πâ‡∏á‡∏Ñ‡πà‡∏≤ Virtual Environment**
```bash
source setup_env.sh
```

3. **‡∏ï‡∏¥‡∏î‡∏ï‡∏±‡πâ‡∏á Dependencies**
```bash
cd v1_3
pip install -r requirements.txt
```

4. **‡∏ï‡∏±‡πâ‡∏á‡∏Ñ‡πà‡∏≤ Systemd Service**
```bash
sudo cp systemd_service/aicamera_v1.3.service /etc/systemd/system/
sudo systemctl daemon-reload
sudo systemctl enable aicamera_v1.3.service
```

5. **‡∏ï‡∏±‡πâ‡∏á‡∏Ñ‡πà‡∏≤ Nginx**
```bash
sudo ln -sf /etc/nginx/sites-available/aicamera_v1.3 /etc/nginx/sites-enabled/
sudo nginx -t
sudo systemctl reload nginx
```

6. **‡πÄ‡∏£‡∏¥‡πà‡∏°‡∏ï‡πâ‡∏ô Service**
```bash
sudo systemctl start aicamera_v1.3.service
```
7. ‡∏ï‡∏£‡∏ß‡∏à‡∏™‡∏≠‡∏ö‡∏™‡∏ñ‡∏≤‡∏ô‡∏∞ service
```bash
sudo systemctl status aicamera_v1.3.service
```
8. ‡∏î‡∏π log
```bash
sudo journalctl -u aicamera_v1.3.service -f
```
## üß™ Camera System Testing Status

### ‚úÖ ‡∏™‡∏ñ‡∏≤‡∏ô‡∏∞‡∏Å‡∏≤‡∏£‡∏ó‡∏î‡∏™‡∏≠‡∏ö August 8, 2025

**Components Implemented:**
- ‚úÖ Camera Handler (v1.3) - Picamera2 integration with thread-safe access
- ‚úÖ Camera Manager (v1.3) - Service layer for video streaming and ML pipeline
- ‚úÖ Dependency Injection Container - Service management and DI pattern
- ‚úÖ **Configuration System (Updated)** - Using `/src/core/config.py` without dotenv dependency
- ‚úÖ Logging System - Structured logging with file rotation support

**Key Features Verified:**
- ‚úÖ **Thread Safety**: Camera access locking mechanism implemented
- ‚úÖ **Resource Cleanup**: Proper shutdown and resource deallocation
- ‚úÖ **ML Pipeline Ready**: Frame callback system for AI integration
- ‚úÖ **Status Monitoring**: Health checks and system status reporting
- ‚úÖ **Modular Architecture**: Clean separation of concerns
- ‚úÖ **Singleton Pattern**: Prevents camera access conflicts
- ‚úÖ **Absolute Imports**: Consistent import paths across the project
- ‚úÖ **Import Validation**: Automatic validation of all module imports

**Testing Scripts:**
```bash
# Test configuration system (‚úÖ PASSING)
python3 config_test.py

# Test camera components (requires Picamera2 hardware)
python3 simple_camera_test.py

# Test full dependency injection system
python3 test_camera_system.py

# Test absolute imports 
python3 -c "from v1_3.src.core.utils.import_helper import validate_imports; print('Import validation:', validate_imports())"
```

**Architecture Compliance: 100%** 
- Dependency Injection ‚úÖ
- Thread Safety ‚úÖ 
- Resource Cleanup ‚úÖ
- Singleton Pattern ‚úÖ
- Picamera2 Integration ‚úÖ
- ML Pipeline Ready ‚úÖ
- Status Monitoring ‚úÖ
- Configuration Management ‚úÖ
- Absolute Imports ‚úÖ
- Import Validation ‚úÖ

**üìã Configuration System Update:**
- ‚úÖ **Unified Config**: Uses single `/src/core/config.py` file 
- ‚úÖ **No dotenv dependency**: Removed external dependency conflicts
- ‚úÖ **Environment variables**: Full OS environment variable support
- ‚úÖ **Default values**: Sensible defaults for all configuration options
- ‚úÖ **Directory creation**: Auto-creates required directories
- ‚úÖ **Dependency injection**: Proper integration with DI container
- ‚úÖ **Consistent Paths**: All modules use `v1_3.src.*` import paths
- ‚úÖ **Import Helper**: Centralized import path management
- ‚úÖ **Validation**: Automatic import validation on startup
- ‚úÖ **Migration Script**: Automated conversion from relative to absolute imports
- ‚úÖ **Clear Dependencies**: Easy to understand module relationships
- ‚úÖ **Refactor Friendly**: Easy to move and reorganize modules

## üíª ‡∏Å‡∏≤‡∏£‡πÉ‡∏ä‡πâ‡∏á‡∏≤‡∏ô

### ‡∏Å‡∏≤‡∏£‡πÄ‡∏Ç‡πâ‡∏≤‡∏ñ‡∏∂‡∏á‡∏£‡∏∞‡∏ö‡∏ö
- **‡πÄ‡∏ß‡πá‡∏ö‡∏≠‡∏¥‡∏ô‡πÄ‡∏ï‡∏≠‡∏£‡πå‡πÄ‡∏ü‡∏™**: http://localhost
- **Health Check**: http://localhost/health
- **API Endpoints**: ‡∏î‡∏π‡πÉ‡∏ô‡∏™‡πà‡∏ß‡∏ô API Reference

### ‡∏Å‡∏≤‡∏£‡∏Ñ‡∏ß‡∏ö‡∏Ñ‡∏∏‡∏°‡∏ú‡πà‡∏≤‡∏ô‡πÄ‡∏ß‡πá‡∏ö
1. ‡πÄ‡∏õ‡∏¥‡∏î‡πÄ‡∏ö‡∏£‡∏≤‡∏ß‡πÄ‡∏ã‡∏≠‡∏£‡πå‡πÑ‡∏õ‡∏ó‡∏µ‡πà http://localhost
2. ‡πÉ‡∏ä‡πâ‡∏õ‡∏∏‡πà‡∏°‡∏Ñ‡∏ß‡∏ö‡∏Ñ‡∏∏‡∏°:
   - **Start Camera**: ‡πÄ‡∏£‡∏¥‡πà‡∏°‡∏Å‡∏•‡πâ‡∏≠‡∏á
   - **Stop Camera**: ‡∏´‡∏¢‡∏∏‡∏î‡∏Å‡∏•‡πâ‡∏≠‡∏á
   - **Health Check**: ‡∏ï‡∏£‡∏ß‡∏à‡∏™‡∏≠‡∏ö‡∏™‡∏ñ‡∏≤‡∏ô‡∏∞‡∏£‡∏∞‡∏ö‡∏ö

### ‡∏Å‡∏≤‡∏£‡∏Ñ‡∏ß‡∏ö‡∏Ñ‡∏∏‡∏°‡∏ú‡πà‡∏≤‡∏ô Command Line
```bash
# ‡∏ï‡∏£‡∏ß‡∏à‡∏™‡∏≠‡∏ö‡∏™‡∏ñ‡∏≤‡∏ô‡∏∞ service
sudo systemctl status aicamera_v1.3.service

# ‡πÄ‡∏£‡∏¥‡πà‡∏°‡∏ï‡πâ‡∏ô service
sudo systemctl start aicamera_v1.3.service

# ‡∏´‡∏¢‡∏∏‡∏î service
sudo systemctl stop aicamera_v1.3.service

# ‡∏£‡∏µ‡∏™‡∏ï‡∏≤‡∏£‡πå‡∏ó service
sudo systemctl restart aicamera_v1.3.service

# ‡∏î‡∏π log
sudo journalctl -u aicamera_v1.3.service -f
```

## ‚öôÔ∏è ‡∏Å‡∏≤‡∏£‡∏ï‡∏±‡πâ‡∏á‡∏Ñ‡πà‡∏≤

### Environment Variables
‡∏™‡∏£‡πâ‡∏≤‡∏á‡πÑ‡∏ü‡∏•‡πå `.env.production` ‡πÉ‡∏ô `v1_3/src/`:
```env
SECRET_KEY=your_secret_key_here
FLASK_ENV=production
FLASK_APP=v1_3.src.app:app
VEHICLE_DETECTION_MODEL=/path/to/vehicle_model
LICENSE_PLATE_DETECTION_MODEL=/path/to/lpr_model
WEBSOCKET_SERVER_URL=ws://localhost:8080
```

### Camera Settings
‡πÅ‡∏Å‡πâ‡πÑ‡∏Ç‡πÉ‡∏ô `v1_3/src/core/config.py`:
```python
# Camera properties
DEFAULT_RESOLUTION = (1280, 720)
DEFAULT_FRAMERATE = 30
DEFAULT_BRIGHTNESS = 0.0
DEFAULT_CONTRAST = 1.0
DEFAULT_SATURATION = 1.0
DEFAULT_SHARPNESS = 1.0
DEFAULT_AWB_MODE = 'auto'
```

### Gunicorn Configuration (Unix Socket)
‡πÅ‡∏Å‡πâ‡πÑ‡∏Ç‡πÉ‡∏ô `gunicorn_config.py`:
```python
# Server socket - Unix socket for better performance
bind = "unix:/tmp/aicamera.sock"
backlog = 2048

# Worker processes
workers = 1  # Single process with multiple threads
worker_class = "gthread"  # Use thread workers
threads = 4  # Number of threads per worker
```

## üîß ‡∏Å‡∏≤‡∏£‡πÅ‡∏Å‡πâ‡πÑ‡∏Ç‡∏õ‡∏±‡∏ç‡∏´‡∏≤

### ‡∏õ‡∏±‡∏ç‡∏´‡∏≤‡∏ó‡∏µ‡πà‡∏û‡∏ö‡∏ö‡πà‡∏≠‡∏¢

#### 1. Service ‡πÑ‡∏°‡πà‡∏™‡∏≤‡∏°‡∏≤‡∏£‡∏ñ‡πÄ‡∏£‡∏¥‡πà‡∏°‡∏ï‡πâ‡∏ô‡πÑ‡∏î‡πâ
**‡∏≠‡∏≤‡∏Å‡∏≤‡∏£**: `Job for aicamera_v1.3.service failed`

**‡∏Å‡∏≤‡∏£‡πÅ‡∏Å‡πâ‡πÑ‡∏Ç**:
```bash
# ‡∏ï‡∏£‡∏ß‡∏à‡∏™‡∏≠‡∏ö log
sudo journalctl -u aicamera_v1.3.service --no-pager | tail -20

# ‡∏ï‡∏£‡∏ß‡∏à‡∏™‡∏≠‡∏ö‡∏™‡∏¥‡∏ó‡∏ò‡∏¥‡πå
ls -la /home/camuser/aicamera/venv_hailo/bin/gunicorn
ls -la /home/camuser/aicamera/gunicorn_config.py

# ‡∏ï‡∏£‡∏ß‡∏à‡∏™‡∏≠‡∏ö virtual environment
source setup_env.sh
which gunicorn
```

#### 2. Module Import Error
**‡∏≠‡∏≤‡∏Å‡∏≤‡∏£**: `ModuleNotFoundError: No module named 'v1_3'`

**‡∏Å‡∏≤‡∏£‡πÅ‡∏Å‡πâ‡πÑ‡∏Ç**:
- ‡∏ï‡∏£‡∏ß‡∏à‡∏™‡∏≠‡∏ö‡∏ß‡πà‡∏≤ directory ‡∏ä‡∏∑‡πà‡∏≠ `v1_3` ‡πÑ‡∏°‡πà‡πÉ‡∏ä‡πà `v1.3`
- ‡∏ï‡∏£‡∏ß‡∏à‡∏™‡∏≠‡∏ö `__init__.py` files ‡πÉ‡∏ô‡∏ó‡∏∏‡∏Å directory

```bash
# ‡∏ï‡∏£‡∏ß‡∏à‡∏™‡∏≠‡∏ö import paths
python3 -c "from v1_3.src.core.utils.import_helper import validate_imports; print(validate_imports())"

# ‡∏£‡∏±‡∏ô migration script ‡∏ñ‡πâ‡∏≤‡∏à‡∏≥‡πÄ‡∏õ‡πá‡∏ô
cd v1_3
python scripts/migrate_absolute_imports.py

# ‡∏ï‡∏£‡∏ß‡∏à‡∏™‡∏≠‡∏ö PYTHONPATH
echo $PYTHONPATH
```
#### 3. Template Not Found
**‡∏≠‡∏≤‡∏Å‡∏≤‡∏£**: `jinja2.exceptions.TemplateNotFound: index.html`

**‡∏Å‡∏≤‡∏£‡πÅ‡∏Å‡πâ‡πÑ‡∏Ç**:
- ‡∏ï‡∏£‡∏ß‡∏à‡∏™‡∏≠‡∏ö path ‡πÉ‡∏ô `app.py`:
```python
app = Flask(__name__, 
           template_folder='web/templates',
           static_folder='web/static')
```

#### 4. Permission Denied
**‡∏≠‡∏≤‡∏Å‡∏≤‡∏£**: `Permission denied` ‡πÉ‡∏ô systemd

**‡∏Å‡∏≤‡∏£‡πÅ‡∏Å‡πâ‡πÑ‡∏Ç**:
```bash
# ‡∏ï‡∏£‡∏ß‡∏à‡∏™‡∏≠‡∏ö‡∏™‡∏¥‡∏ó‡∏ò‡∏¥‡πå
sudo chown -R camuser:camuser /home/camuser/aicamera
sudo chmod -R 755 /home/camuser/aicamera

# ‡∏•‡∏ö security restrictions ‡πÉ‡∏ô systemd service
```

#### 5. Nginx 500 Error
**‡∏≠‡∏≤‡∏Å‡∏≤‡∏£**: HTTP 500 Internal Server Error

**‡∏Å‡∏≤‡∏£‡πÅ‡∏Å‡πâ‡πÑ‡∏Ç**:
```bash
# ‡∏ï‡∏£‡∏ß‡∏à‡∏™‡∏≠‡∏ö gunicorn log
tail -f /home/camuser/aicamera/log/gunicorn_error.log

# ‡∏ï‡∏£‡∏ß‡∏à‡∏™‡∏≠‡∏ö nginx log
sudo tail -f /var/log/nginx/aicamera_error.log

# ‡∏ï‡∏£‡∏ß‡∏à‡∏™‡∏≠‡∏ö socket
ls -la /tmp/aicamera.sock
```

#### 6. Virtual Environment Issues
**‡∏≠‡∏≤‡∏Å‡∏≤‡∏£**: `No such file or directory` ‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö gunicorn

**‡∏Å‡∏≤‡∏£‡πÅ‡∏Å‡πâ‡πÑ‡∏Ç**:
```bash
# ‡∏ï‡∏£‡∏ß‡∏à‡∏™‡∏≠‡∏ö virtual environment
source setup_env.sh
which python
which gunicorn

# ‡∏™‡∏£‡πâ‡∏≤‡∏á virtual environment ‡πÉ‡∏´‡∏°‡πà
python3 -m venv venv_hailo
source venv_hailo/bin/activate
pip install -r v1_3/requirements.txt
```
#### 7. gunicorn ‡πÑ‡∏°‡πà‡∏™‡∏≤‡∏°‡∏≤‡∏£‡∏ñ‡πÄ‡∏£‡∏¥‡πà‡∏°‡∏ï‡πâ‡∏ô‡πÑ‡∏î‡πâ status=3/NOTIMPLEMENTED 
**‡∏≠‡∏≤‡∏Å‡∏≤‡∏£**:  service aicamera_v1.3 ‡∏°‡∏µ‡∏õ‡∏±‡∏ç‡∏´‡∏≤ Main process exited, code=exited, status=3/NOTIMPLEMENTED ‡∏ã‡∏∂‡πà‡∏á‡∏´‡∏°‡∏≤‡∏¢‡∏Ñ‡∏ß‡∏≤‡∏°‡∏ß‡πà‡∏≤ gunicorn ‡πÑ‡∏°‡πà‡∏™‡∏≤‡∏°‡∏≤‡∏£‡∏ñ‡πÄ‡∏£‡∏¥‡πà‡∏°‡∏ï‡πâ‡∏ô‡πÑ‡∏î‡πâ
**‡∏™‡∏≤‡πÄ‡∏´‡∏ï‡∏∏‡∏Ç‡∏≠‡∏á status=3/NOTIMPLEMENTED**
-Import Error ‡πÉ‡∏ô wsgi.py: ‡πÑ‡∏ü‡∏•‡πå wsgi.py ‡πÉ‡∏ä‡πâ relative imports (from core.utils.import_helper) ‡πÅ‡∏ï‡πà‡∏Ñ‡∏ß‡∏£‡πÉ‡∏ä‡πâ absolute imports
-Gunicorn Config Conflict: ‡∏°‡∏µ‡∏Å‡∏≤‡∏£‡∏Å‡∏≥‡∏´‡∏ô‡∏î app ‡πÉ‡∏ô config ‡πÅ‡∏ï‡πà systemd service ‡∏Å‡πá‡∏™‡πà‡∏á app path ‡∏°‡∏≤‡∏î‡πâ‡∏ß‡∏¢
-Import Path Issues: ‡∏Å‡∏≤‡∏£ setup import paths ‡πÑ‡∏°‡πà‡∏ñ‡∏π‡∏Å‡∏ï‡πâ‡∏≠‡∏á
**‡∏Å‡∏≤‡∏£‡πÅ‡∏Å‡πâ‡πÑ‡∏Ç**:
```bash
# ‡∏ï‡∏£‡∏ß‡∏à‡∏™‡∏≠‡∏ö ‡πÅ‡∏Å‡πâ‡πÑ‡∏Ç wsgi.py ‡πÄ‡∏û‡∏∑‡πà‡∏≠‡πÉ‡∏ä‡πâ Absolute Imports
# ‡πÅ‡∏Å‡πâ‡πÑ‡∏Ç gunicorn_config.py REMOVED: app = "v1_3.src.wsgi:app"  # This conflicts with command line
# ‡∏ó‡∏î‡∏™‡∏≠‡∏ö‡∏Å‡∏≤‡∏£‡πÅ‡∏Å‡πâ‡πÑ‡∏Ç
# 1. ‡∏´‡∏¢‡∏∏‡∏î service
sudo systemctl stop aicamera_v1.3.service

# 2. ‡∏•‡∏ö socket file ‡πÄ‡∏Å‡πà‡∏≤ (‡∏ñ‡πâ‡∏≤‡∏°‡∏µ)
sudo rm -f /tmp/aicamera.sock

# 3. ‡∏ó‡∏î‡∏™‡∏≠‡∏ö gunicorn ‡πÇ‡∏î‡∏¢‡∏ï‡∏£‡∏á
cd /home/camuser/aicamera
source setup_env.sh
gunicorn --config gunicorn_config.py v1_3.src.wsgi:app

# 4. ‡∏ñ‡πâ‡∏≤‡∏ó‡∏≥‡∏á‡∏≤‡∏ô‡πÑ‡∏î‡πâ ‡πÉ‡∏´‡πâ restart service
sudo systemctl daemon-reload
sudo systemctl start aicamera_v1.3.service

# 5. ‡∏ï‡∏£‡∏ß‡∏à‡∏™‡∏≠‡∏ö‡∏™‡∏ñ‡∏≤‡∏ô‡∏∞
sudo systemctl status aicamera_v1.3.service

# 6. ‡∏î‡∏π log
sudo journalctl -u aicamera_v1.3.service -f
# ‡∏ó‡∏î‡∏™‡∏≠‡∏ö import validation
cd /home/camuser/aicamera
source setup_env.sh
python3 -c "from v1_3.src.core.utils.import_helper import validate_imports; print('Import validation:', validate_imports())"
# ‡∏ï‡∏£‡∏ß‡∏à‡∏™‡∏≠‡∏ö gunicorn logs
tail -f /home/camuser/aicamera/log/gunicorn_error.log
tail -f /home/camuser/aicamera/log/gunicorn_access.log
```

### ‡∏Å‡∏≤‡∏£ Debug

#### 1. ‡∏ï‡∏£‡∏ß‡∏à‡∏™‡∏≠‡∏ö Log Files
```bash
# Systemd logs
sudo journalctl -u aicamera_v1.3.service -f

# Gunicorn logs
tail -f /home/camuser/aicamera/log/gunicorn_error.log
tail -f /home/camuser/aicamera/log/gunicorn_access.log

# Nginx logs
sudo tail -f /var/log/nginx/aicamera_error.log
sudo tail -f /var/log/nginx/aicamera_access.log
```

#### 2. ‡∏ï‡∏£‡∏ß‡∏à‡∏™‡∏≠‡∏ö Process
```bash
# ‡∏ï‡∏£‡∏ß‡∏à‡∏™‡∏≠‡∏ö process ‡∏ó‡∏µ‡πà‡∏ó‡∏≥‡∏á‡∏≤‡∏ô
ps aux | grep gunicorn
ps aux | grep nginx

# ‡∏ï‡∏£‡∏ß‡∏à‡∏™‡∏≠‡∏ö port ‡πÅ‡∏•‡∏∞ socket
netstat -tlnp | grep :80
ls -la /tmp/aicamera.sock
```

#### 3. ‡∏ï‡∏£‡∏ß‡∏à‡∏™‡∏≠‡∏ö Configuration
```bash
# ‡∏ï‡∏£‡∏ß‡∏à‡∏™‡∏≠‡∏ö nginx config
sudo nginx -t

# ‡∏ï‡∏£‡∏ß‡∏à‡∏™‡∏≠‡∏ö systemd service
sudo systemctl cat aicamera_v1.3.service

# ‡∏ï‡∏£‡∏ß‡∏à‡∏™‡∏≠‡∏ö gunicorn config
python3 -c "import gunicorn_config; print('Config OK')"

# ‡∏ï‡∏£‡∏ß‡∏à‡∏™‡∏≠‡∏ö imports 
python3 -c "from v1_3.src.core.utils.import_helper import validate_imports; print('Imports:', validate_imports())"
```

## üõ†Ô∏è ‡∏Å‡∏≤‡∏£‡∏û‡∏±‡∏í‡∏ô‡∏≤

### ‡∏Å‡∏≤‡∏£‡πÄ‡∏û‡∏¥‡πà‡∏° Component ‡πÉ‡∏´‡∏°‡πà

1. **‡∏™‡∏£‡πâ‡∏≤‡∏á‡πÑ‡∏ü‡∏•‡πå‡πÉ‡∏ô `components/`** ‡πÉ‡∏ä‡πâ absolute imports**
```python
# v1_3/src/components/new_component.py
from v1_3.src.core.utils.logging_config import get_logger

logger = get_logger(__name__)

class NewComponent:
    def __init__(self):
        self.logger = logger
    
    def process(self, data):
        # Your logic here
        pass
```

2. **‡πÄ‡∏û‡∏¥‡πà‡∏°‡πÉ‡∏ô DI Container ‡πÉ‡∏ä‡πâ absolute imports**
```python
# v1_3/src/core/dependency_container.py
def _register_default_services(self):
    try:
        from v1_3.src.components.new_component import NewComponent
        self.register_service('new_component', NewComponent,
                             dependencies={'logger': 'logger'})
    except ImportError:
        self.logger.warning("NewComponent not available")
```

3. **‡πÄ‡∏û‡∏¥‡πà‡∏°‡πÉ‡∏ô Blueprint ‡πÉ‡∏ä‡πâ absolute imports**
```python
# v1_3/src/web/blueprints/new_feature.py
from flask import Blueprint, jsonify
from v1_3.src.core.dependency_container import get_service

new_feature_bp = Blueprint('new_feature', __name__, url_prefix='/new-feature')

@new_feature_bp.route('/action', methods=['POST'])
def perform_action():
    component = get_service('new_component')
    result = component.process(data)
    return jsonify({'result': result})
```

4. **‡∏•‡∏á‡∏ó‡∏∞‡πÄ‡∏ö‡∏µ‡∏¢‡∏ô Blueprint ‡πÉ‡∏ä‡πâ absolute imports**
```python
# v1_3/src/web/blueprints/__init__.py
from v1_3.src.web.blueprints.new_feature import new_feature_bp

def register_blueprints(app: Flask, socketio: SocketIO):
    app.register_blueprint(new_feature_bp)
```

### ‡∏Å‡∏≤‡∏£‡πÄ‡∏û‡∏¥‡πà‡∏° API Endpoint

```python
# ‡πÉ‡∏ä‡πâ absolute imports
from v1_3.src.core.dependency_container import get_service

@app.route('/api/new_endpoint', methods=['GET', 'POST'])
def new_api_endpoint():
    if request.method == 'GET':
        return jsonify({'status': 'success', 'data': 'some_data'})
    elif request.method == 'POST':
        data = request.get_json()
        # Process data
        return jsonify({'status': 'success'})
```

### ‡∏Å‡∏≤‡∏£‡πÄ‡∏û‡∏¥‡πà‡∏° Database Table

```python
# ‡πÉ‡∏ô database_manager.py ‡πÉ‡∏ä‡πâ absolute imports
from v1_3.src.core.utils.logging_config import get_logger

logger = get_logger(__name__)

def create_new_table(self):
    query = """
    CREATE TABLE IF NOT EXISTS new_table (
        id INTEGER PRIMARY KEY AUTOINCREMENT,
        name TEXT NOT NULL,
        created_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP
    )
    """
    self.execute_query(query)
```

## üìö API Reference

### Endpoints

#### GET /
‡∏´‡∏ô‡πâ‡∏≤‡πÅ‡∏£‡∏Å‡∏Ç‡∏≠‡∏á‡∏£‡∏∞‡∏ö‡∏ö
- **Response**: HTML page

#### GET /health
‡∏ï‡∏£‡∏ß‡∏à‡∏™‡∏≠‡∏ö‡∏™‡∏ñ‡∏≤‡∏ô‡∏∞‡∏£‡∏∞‡∏ö‡∏ö
- **Response**: 
```json
{
    "status": "healthy",
    "service": "aicamera_v1.3"
}
```

#### POST /close_camera
‡∏´‡∏¢‡∏∏‡∏î‡∏Å‡∏•‡πâ‡∏≠‡∏á
- **Response**:
```json
{
    "status": "success",
    "message": "Camera closed successfully."
}
```

#### POST /update_camera_settings
‡∏≠‡∏±‡∏õ‡πÄ‡∏î‡∏ï‡∏Å‡∏≤‡∏£‡∏ï‡∏±‡πâ‡∏á‡∏Ñ‡πà‡∏≤‡∏Å‡∏•‡πâ‡∏≠‡∏á
- **Form Data**: resolution, framerate, brightness, contrast, saturation, sharpness, awb_mode
- **Response**: Redirect to index page

#### GET /video_feed
‡∏™‡∏ï‡∏£‡∏µ‡∏°‡∏ß‡∏¥‡∏î‡∏µ‡πÇ‡∏≠‡∏à‡∏≤‡∏Å‡∏Å‡∏•‡πâ‡∏≠‡∏á
- **Response**: Multipart video stream

### Error Responses

#### 500 Internal Server Error
```json
{
    "error": "Internal server error",
    "message": "Detailed error message"
}
```

#### 404 Not Found
```json
{
    "error": "Not found",
    "message": "Endpoint not found"
}
```

## üìù ‡∏Å‡∏≤‡∏£‡∏≠‡∏±‡∏õ‡πÄ‡∏î‡∏ï

### ‡∏Å‡∏≤‡∏£‡∏≠‡∏±‡∏õ‡πÄ‡∏î‡∏ï Code
```bash
# Pull latest changes
git pull origin main

# Restart service
sudo systemctl restart aicamera_v1.3.service

# Check status
sudo systemctl status aicamera_v1.3.service
```

### ‡∏Å‡∏≤‡∏£‡∏≠‡∏±‡∏õ‡πÄ‡∏î‡∏ï Dependencies
```bash
# Activate virtual environment
source setup_env.sh

# Update requirements
pip install -r v1_3/requirements.txt --upgrade

# Restart service
sudo systemctl restart aicamera_v1.3.service

# ‡∏ï‡∏£‡∏ß‡∏à‡∏™‡∏≠‡∏ö‡∏ß‡πà‡∏≤‡∏°‡∏µ process ‡πÉ‡∏î‡πÉ‡∏ä‡πâ‡∏Å‡∏•‡πâ‡∏≠‡∏á‡∏≠‡∏¢‡∏π‡πà‡∏´‡∏£‡∏∑‡∏≠‡πÑ‡∏°‡πà
sudo fuser /dev/media* 2>/dev/null || echo "No processes using media devices"

# ‡∏ï‡∏£‡∏ß‡∏à‡∏™‡∏≠‡∏ö‡∏™‡∏ñ‡∏≤‡∏ô‡∏∞‡∏Å‡∏≤‡∏£‡∏ó‡∏≥‡∏á‡∏≤‡∏ô
sudo journalctl -u aicamera_v1.3.service --no-pager | tail -20
```

### ‡∏Å‡∏≤‡∏£‡πÄ‡∏õ‡∏•‡∏µ‡πà‡∏¢‡∏ô‡∏à‡∏≤‡∏Å TCP/IP Stack ‡πÄ‡∏õ‡πá‡∏ô Unix Socket
1. ‡∏õ‡∏£‡∏±‡∏ö‡∏õ‡∏£‡∏∏‡∏á Gunicorn Config (‡∏Ç‡∏±‡πâ‡∏ô‡∏ï‡∏≠‡∏ô‡πÅ‡∏£‡∏Å) gunicorn_config.py
‡πÅ‡∏Å‡πâ‡πÑ‡∏Ç‡πÑ‡∏ü‡∏•‡πå gunicorn_config.py ‡πÄ‡∏õ‡∏•‡∏µ‡πà‡∏¢‡∏ô bind = "0.0.0.0:8080" ‡πÄ‡∏õ‡πá‡∏ô bind = "unix:/tmp/aicamera.sock"
```bash
bind = "unix:/tmp/aicamera.sock"  # ‡πÄ‡∏õ‡∏•‡∏µ‡πà‡∏¢‡∏ô‡∏à‡∏≤‡∏Å "0.0.0.0:8080"
```
2. ‡∏õ‡∏£‡∏±‡∏ö‡∏õ‡∏£‡∏∏‡∏á Nginx Config (‡∏Ç‡∏±‡πâ‡∏ô‡∏ï‡∏≠‡∏ô‡∏ó‡∏µ‡πà‡∏™‡∏≠‡∏á) nginx.conf
‡πÅ‡∏Å‡πâ‡πÑ‡∏Ç‡πÑ‡∏ü‡∏•‡πå v1_2/nginx.conf ‡πÄ‡∏õ‡∏•‡∏µ‡πà‡∏¢‡∏ô‡∏ó‡∏∏‡∏Å proxy_pass http://127.0.0.1:8000 ‡πÄ‡∏õ‡πá‡∏ô proxy_pass http://unix:/tmp/aicamera.sock
```bash
proxy_pass http://unix:/tmp/aicamera.sock;  # ‡πÄ‡∏õ‡∏•‡∏µ‡πà‡∏¢‡∏ô‡∏à‡∏≤‡∏Å http://127.0.0.1:8000
```
### ‡∏ó‡∏î‡∏™‡∏≠‡∏ö‡∏Å‡∏≤‡∏£‡∏ó‡∏≥‡∏á‡∏≤‡∏ô
1.‡∏ó‡∏î‡∏™‡∏≠‡∏ö gunicorn ‡∏î‡πâ‡∏ß‡∏¢‡∏Ñ‡∏≥‡∏™‡∏±‡πà‡∏á
```bash
cd /home/camuser/aicamera
source setup_env.sh
gunicorn --config gunicorn_config.py v1_3.src.wsgi:app
```
2.‡∏ó‡∏î‡∏™‡∏≠‡∏ö nginx config:
```bash
sudo nginx -t
```
3.Reload systemd ‡πÅ‡∏•‡∏∞ restart service
```bash
sudo systemctl daemon-reload
sudo systemctl restart aicamera_v1.3
sudo systemctl restart nginx
```
4. ‡∏ï‡∏£‡∏ß‡∏à‡∏™‡∏≠‡∏ö‡∏™‡∏ñ‡∏≤‡∏ô‡∏∞ service
```bash
sudo systemctl status aicamera_v1.3
sudo systemctl status nginx
```
5.‡∏ï‡∏£‡∏ß‡∏à‡∏™‡∏≠‡∏ö socket file
```bash
ls -la /tmp/aicamera.sock
```
6. **‡∏ó‡∏î‡∏™‡∏≠‡∏ö‡∏Å‡∏≤‡∏£‡πÄ‡∏Ç‡πâ‡∏≤‡∏ñ‡∏∂‡∏á‡πÄ‡∏ß‡πá‡∏ö‡πÑ‡∏ã‡∏ï‡πå‡∏ó‡∏µ‡πà port 80**
http://aicamera1

7. **‡∏ó‡∏î‡∏™‡∏≠‡∏ö import validation (NEW)**
```bash
python3 -c "from v1_3.src.core.utils.import_helper import validate_imports; print('Import validation:', validate_imports())"
```

#### ‡∏Ç‡πâ‡∏≠‡∏î‡∏µ‡∏Ç‡∏≠‡∏á‡∏Å‡∏≤‡∏£‡πÉ‡∏ä‡πâ Unix Socket
1.‡∏õ‡∏£‡∏∞‡∏™‡∏¥‡∏ó‡∏ò‡∏¥‡∏†‡∏≤‡∏û‡∏î‡∏µ‡∏Å‡∏ß‡πà‡∏≤: ‡πÑ‡∏°‡πà‡∏ï‡πâ‡∏≠‡∏á‡∏ú‡πà‡∏≤‡∏ô TCP/IP stack
2.‡∏Ñ‡∏ß‡∏≤‡∏°‡∏õ‡∏•‡∏≠‡∏î‡∏†‡∏±‡∏¢: ‡πÑ‡∏°‡πà‡πÄ‡∏õ‡∏¥‡∏î port ‡∏†‡∏≤‡∏¢‡∏ô‡∏≠‡∏Å
3.‡∏Å‡∏≤‡∏£‡∏à‡∏±‡∏î‡∏Å‡∏≤‡∏£‡∏ó‡∏µ‡πà‡∏î‡∏µ‡∏Å‡∏ß‡πà‡∏≤: Socket file ‡∏à‡∏∞‡∏ñ‡∏π‡∏Å‡∏•‡∏ö‡πÄ‡∏°‡∏∑‡πà‡∏≠ process ‡∏´‡∏¢‡∏∏‡∏î‡∏ó‡∏≥‡∏á‡∏≤‡∏ô
4.Resource ‡πÉ‡∏ä‡πâ‡∏ô‡πâ‡∏≠‡∏¢‡∏Å‡∏ß‡πà‡∏≤: ‡πÑ‡∏°‡πà‡∏ï‡πâ‡∏≠‡∏á‡πÉ‡∏ä‡πâ network resources


#### ‡∏Ç‡πâ‡∏≠‡∏î‡∏µ‡∏Ç‡∏≠‡∏á Absolute Imports 
1. **‡∏Ñ‡∏ß‡∏≤‡∏°‡∏ä‡∏±‡∏î‡πÄ‡∏à‡∏ô**: Import paths ‡∏ä‡∏±‡∏î‡πÄ‡∏à‡∏ô‡πÅ‡∏•‡∏∞‡πÄ‡∏Ç‡πâ‡∏≤‡πÉ‡∏à‡∏á‡πà‡∏≤‡∏¢
2. **‡∏Ñ‡∏ß‡∏≤‡∏°‡∏™‡∏°‡πà‡∏≥‡πÄ‡∏™‡∏°‡∏≠**: ‡πÉ‡∏ä‡πâ‡∏£‡∏π‡∏õ‡πÅ‡∏ö‡∏ö‡πÄ‡∏î‡∏µ‡∏¢‡∏ß‡∏Å‡∏±‡∏ô‡∏ó‡∏±‡πâ‡∏á‡πÇ‡∏õ‡∏£‡πÄ‡∏à‡∏Ñ
3. **‡∏Å‡∏≤‡∏£‡∏ö‡∏≥‡∏£‡∏∏‡∏á‡∏£‡∏±‡∏Å‡∏©‡∏≤**: ‡∏á‡πà‡∏≤‡∏¢


## üìû ‡∏Å‡∏≤‡∏£‡∏™‡∏ô‡∏±‡∏ö‡∏™‡∏ô‡∏∏‡∏ô

‡∏´‡∏≤‡∏Å‡∏û‡∏ö‡∏õ‡∏±‡∏ç‡∏´‡∏≤‡∏´‡∏£‡∏∑‡∏≠‡∏ï‡πâ‡∏≠‡∏á‡∏Å‡∏≤‡∏£‡∏Ñ‡∏ß‡∏≤‡∏°‡∏ä‡πà‡∏ß‡∏¢‡πÄ‡∏´‡∏•‡∏∑‡∏≠:

1. ‡∏ï‡∏£‡∏ß‡∏à‡∏™‡∏≠‡∏ö log files ‡∏Å‡πà‡∏≠‡∏ô
2. ‡∏î‡∏π‡∏™‡πà‡∏ß‡∏ô "‡∏Å‡∏≤‡∏£‡πÅ‡∏Å‡πâ‡πÑ‡∏Ç‡∏õ‡∏±‡∏ç‡∏´‡∏≤" ‡πÉ‡∏ô‡πÄ‡∏≠‡∏Å‡∏™‡∏≤‡∏£‡∏ô‡∏µ‡πâ
3. ‡∏ï‡∏£‡∏ß‡∏à‡∏™‡∏≠‡∏ö GitHub Issues
4. ‡∏ï‡∏¥‡∏î‡∏ï‡πà‡∏≠‡∏ó‡∏µ‡∏°‡∏û‡∏±‡∏í‡∏ô‡∏≤

---

**‡πÄ‡∏ß‡∏≠‡∏£‡πå‡∏ä‡∏±‡∏ô**: 1.3  
**‡∏≠‡∏±‡∏õ‡πÄ‡∏î‡∏ï‡∏•‡πà‡∏≤‡∏™‡∏∏‡∏î**: August 8, 2025  
**‡∏ú‡∏π‡πâ‡∏û‡∏±‡∏í‡∏ô‡∏≤**: AI Camera Team

# ‡πÅ‡∏ú‡∏ô‡∏Å‡∏≤‡∏£‡∏û‡∏±‡∏í‡∏ô‡∏≤‡∏Ç‡∏±‡πâ‡∏ô‡∏ï‡πà‡∏≠‡πÑ‡∏õ 
## ‡∏™‡∏±‡πà‡∏á‡πÉ‡∏´‡πâ‡∏Å‡∏•‡πâ‡∏≠‡∏á‡∏ó‡∏≥‡∏á‡∏≤‡∏ô streaming ‡∏≠‡∏±‡∏ï‡πÇ‡∏ô‡∏°‡∏±‡∏ï‡∏¥
## ‡∏ï‡∏£‡∏ß‡∏à‡∏™‡∏≠‡∏ö‡∏î‡∏≥‡πÄ‡∏ô‡∏¥‡∏ô‡∏Å‡∏≤‡∏£‡∏õ‡∏¥‡∏î‡πÅ‡∏•‡∏∞‡∏Ñ‡∏∑‡∏ô‡∏ó‡∏£‡∏±‡∏û‡∏¢‡∏≤‡∏Å‡∏£‡∏Å‡∏•‡πâ‡∏≠‡∏á‡∏≠‡∏¢‡πà‡∏≤‡∏á‡∏õ‡∏•‡∏≠‡∏î‡∏†‡∏±‡∏¢